# üìå Jetpack Compose ÁöÑ Material ÁªÑ‰ª∂

## **üìñ Material components in Compose**
**Jetpack Compose Êèê‰æõ‰∫Ü Material Design ÁöÑÂÆûÁé∞**ÔºåÂêéËÄÖÊòØ‰∏Ä‰∏™Áî®‰∫éÂàõÂª∫Êï∞Â≠óÁïåÈù¢ÁöÑÁªºÂêàËÆæËÆ°Á≥ªÁªü„ÄÇ
ÊÇ®ÂèØ‰ª•‰ΩøÁî® **ÂèØÁªÑÂêàÂáΩÊï∞ÔºàComposable functionsÔºâ** Êù•ÂÆûÁé∞ Material ÁªÑ‰ª∂„ÄÇ

üëâ ÂÆòÊñπÊñáÊ°£Ôºö[Compose Material ÁªÑ‰ª∂](https://developer.android.com/develop/ui/compose/components?hl=zh-cn)

---

## **üåü ÈáçË¶ÅÊ¶ÇÂøµ**

### **1Ô∏è‚É£ Material ÁªÑ‰ª∂ÁöÑ‰ΩúÁî®**
- Ëøô‰∫õÁªÑ‰ª∂ **Âä†Âø´ÂºÄÂèë**ÔºåÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèëËÄÖÂø´ÈÄüÊûÑÂª∫ UI„ÄÇ
- **Âü∫Êú¨ÁöÑ `Row` Âíå `Column` ‰πüÂèØ‰ª•‰ΩøÁî®**Ôºå‰ΩÜÂØπ‰∫éÂ§çÊùÇ‰∫§‰∫íÔºàÂ¶Ç `Dialog`ÔºâÔºå‰ΩøÁî® Material ÁªÑ‰ª∂Êõ¥Êñπ‰æø„ÄÇ

### **2Ô∏è‚É£ Material Design ÊòØ‰∏Ä‰∏™ËßÑËåÉ**
- Material ÁªÑ‰ª∂‰∏ç‰ªÖ‰ªÖÊòØÂ∑•ÂÖ∑ÔºåÂÆÉ‰ª¨ÈÅµÂæ™ Google ËÆæËÆ°ËßÑËåÉ„ÄÇ
- Âú®ÂÆòÊñπÊïôÁ®ãÁöÑ [Á¨¨‰∏âÈÉ®ÂàÜ](https://developer.android.com/develop/ui/compose/tutorial?hl=zh-cn) ‰∏≠ÔºåÂèØ‰ª•ÁúãÂà∞Ëøô‰∫õËßÑËåÉÁöÑÂ∫îÁî®„ÄÇ

---

## **üé® Material Design ‰∏âÂ§ßË¶ÅÁ¥†**
Material Design ‰∏ªË¶ÅÂõ¥Áªï‰ª•‰∏ã **‰∏âÂ§ßË¶ÅÁ¥†** ÊûÑÂª∫Ôºö

| üîπ Ë¶ÅÁ¥† | üìå ËØ¥Êòé |
| --- | --- |
| üé® **ColorÔºàÈ¢úËâ≤Ôºâ** | È¢úËâ≤Á≥ªÁªüÔºåÂåÖÊã¨‰∏ªÈ¢òËâ≤„ÄÅËÉåÊôØËâ≤„ÄÅÂº∫Ë∞ÉËâ≤Á≠â„ÄÇ |
| üî§ **TypographyÔºàÊéíÁâàÔºâ** | ÊñáÂ≠óÊ†∑ÂºèÔºåÂ¶ÇÂ≠ó‰Ωì„ÄÅÂ§ßÂ∞è„ÄÅÈó¥Ë∑ùÁ≠â„ÄÇ |
| üü¶ **ShapeÔºàÂΩ¢Áä∂Ôºâ** | ÁªÑ‰ª∂ÁöÑÂΩ¢Áä∂ÔºåÂ¶ÇÂúÜËßí„ÄÅÂç°ÁâáËæπÊ°ÜÁ≠â„ÄÇ |

Âú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÊàë‰ª¨‰ºöÈÄêÊ≠•Ê∑ªÂä†Ëøô‰∫õË¶ÅÁ¥†Ôºå‰ª•ÊûÑÂª∫Á¨¶Âêà Material Design ËßÑËåÉÁöÑ UI„ÄÇ



-------------


# üìå Compose ‰∏≠ÁöÑÂÆπÂô® Composable

Âú® **Jetpack Compose** ‰∏≠Ôºå‰ª•‰∏ã **Composable** ÂèØ‰ª•‰Ωú‰∏∫ **ÂÆπÂô®** Êù•ÂåÖÂê´ÂÖ∂‰ªñ ComposableÔºö

| üìå Composable | üîç Á±ª‰ºº‰∫é |
| --- | --- |
| `Column` | `LinearLayout`ÔºàÁ∫µÂêëÊéíÂàóÔºâ |
| `Row` | `LinearLayout`ÔºàÊ®™ÂêëÊéíÂàóÔºâ |
| `Box` | `FrameLayout` |
| `ConstraintLayout` | `ConstraintLayout` |
| `LazyColumn` | `RecyclerView` |

---

## **üìù Button ‰Ωú‰∏∫ÂÆπÂô®**
ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå`Button` ‰πüÊòØ‰∏Ä‰∏™ÂÆπÂô®ÔºåÂÆÉÂèØ‰ª•ÂåÖÂê´ **Â§ö‰∏™ Composable**ÔºåËÄå‰∏ç‰ªÖ‰ªÖÊòØÊñáÊú¨„ÄÇ

### **Á§∫‰æãÔºöButton ‰Ωú‰∏∫ÂÆπÂô®**
```kotlin
@Composable
fun MyColumnLayout() {
    Column(modifier = Modifier.fillMaxSize().padding(16.dp)) {
        Text("Á¨¨‰∏ÄË°å")
        Text("Á¨¨‰∫åË°å")
        Button(onClick = {}) {
            Text("ÊåâÈíÆ") // ‚úÖ Button ÂÜÖÈÉ®ÂèØ‰ª•ÂåÖÂê´ Text
        }
    }
}
```
**üìå ÁªìËÆ∫Ôºö**
`Button` ‰Ωú‰∏∫‰∏Ä‰∏™ **ÂÆπÂô®**ÔºåÊÑèÂë≥ÁùÄÂÆÉÈªòËÆ§Ê≤°ÊúâËÆæÁΩÆÊñáÊú¨ÁöÑÂ±ûÊÄßÔºåËÄåÊòØÂèØ‰ª• **Ëá™Áî±ÊîæÂÖ•ÂÖ∂‰ªñ Composable**ÔºàÂ¶Ç `Icon`„ÄÅ`Row`„ÄÅ`Column` Á≠âÔºâ„ÄÇ

---

## **üîç Button ÁªÑ‰ª∂ÁöÑÂÆåÊï¥ÂÆö‰πâ**
Âú® Jetpack Compose ‰∏≠Ôºå`Button` ÁªÑ‰ª∂ÁöÑÂÆö‰πâÂ¶Ç‰∏ãÔºö
```kotlin
@Composable
fun Button(
    onClick: () -> Unit,
    modifier: Modifier = Modifier,
    enabled: Boolean = true,
    shape: Shape = ButtonDefaults.shape,
    colors: ButtonColors = ButtonDefaults.buttonColors(),
    elevation: ButtonElevation? = ButtonDefaults.buttonElevation(),
    border: BorderStroke? = null,
    contentPadding: PaddingValues = ButtonDefaults.ContentPadding,
    interactionSource: MutableInteractionSource? = null,
    content: @Composable RowScope.() -> Unit
)
```
üìå **ÂÖ≥ÈîÆÁÇπËß£ÊûêÔºö**
- `onClick: () -> Unit` üëâ ÊåâÈíÆÁÇπÂáª‰∫ã‰ª∂
- `modifier: Modifier` üëâ ÊéßÂà∂ **Â§ßÂ∞è„ÄÅÂ°´ÂÖÖ„ÄÅÂØπÈΩêÊñπÂºè**
- `enabled: Boolean` üëâ ÊòØÂê¶ÂèØÁÇπÂáª
- `shape: Shape` üëâ ÊåâÈíÆÂΩ¢Áä∂ÔºàÈªòËÆ§ `ButtonDefaults.shape`Ôºâ
- `colors: ButtonColors` üëâ ÊåâÈíÆÈ¢úËâ≤
- `elevation: ButtonElevation?` üëâ ÊåâÈíÆÈò¥ÂΩ±
- `border: BorderStroke?` üëâ ÊåâÈíÆËæπÊ°Ü
- `contentPadding: PaddingValues` üëâ ÊåâÈíÆÂÜÖÈÉ®ÁöÑ **ÂÜÖËæπË∑ù**
- `interactionSource: MutableInteractionSource?` üëâ Â§ÑÁêÜ‰∫§‰∫íÊïàÊûú
- `content: @Composable RowScope.() -> Unit` üëâ **ÊåâÈíÆÂÜÖÈÉ®ÁöÑÂÜÖÂÆπÔºàÂèØÊîæÂ§ö‰∏™ ComposableÔºâ**

---

üìå **ÊÄªÁªì**
1. `Button` **‰∏ç‰ªÖ‰ªÖÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊåâÈíÆ**ÔºåÂÆÉÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™ **ÂèØÂÆπÁ∫≥Â§ö‰∏™Â≠ê Composable ÁöÑÂÆπÂô®**„ÄÇ
2. Áî±‰∫é `Button` ‰ΩøÁî®‰∫Ü `RowScope`ÔºåÊâÄ‰ª•ÂÆÉÁöÑ `content` ÂèØ‰ª•ÊòØ **Â§ö‰∏™ Composable** ÁªÑ‰ª∂„ÄÇ
3. **ÂèØ‰ª•Âú® Button ÈáåÊîæ `Row`„ÄÅ`Icon`„ÄÅ`Text` Á≠â**ÔºåÁÅµÊ¥ªÊûÑÂª∫ÊåâÈíÆ UI„ÄÇ

üöÄ **Jetpack Compose ÂÖÅËÆ∏‰Ω†ÂàõÂª∫Êõ¥Âä†Ëá™Áî±„ÄÅÁÅµÊ¥ªÁöÑ UI ÁªÑ‰ª∂ÔºÅ**


----------


# üöÄ Jetpack Compose Â∏∏Áî®ÁªÑ‰ª∂‰ªãÁªç

| ÁªÑ‰ª∂ | ‰ΩúÁî® |
| --- | --- |
| `Scaffold` | È°µÈù¢Âü∫Á°ÄÊ°ÜÊû∂ÔºåÊîØÊåÅ `TopAppBar`„ÄÅ`BottomBar`„ÄÅ`Drawer` Á≠â |
| `TopAppBar` / `CenterAlignedTopAppBar` | È°∂ÈÉ®Ê†èÔºàÂèØÊ∑ªÂä†ÂØºËà™ÊåâÈíÆ„ÄÅËèúÂçïÁ≠âÔºâ |
| `NavigationBar` | Â∫ïÈÉ®ÂØºËà™Ê†èÔºàÈÄöÂ∏∏Áî®‰∫é `BottomNavigation`Ôºâ |
| `DrawerSheet` | ‰æßËæπÊäΩÂ±âËèúÂçï |
| `Button` / `OutlinedButton` / `TextButton` | ÊåâÈíÆÔºà‰∏ªË¶Å‰∫§‰∫íÂÖÉÁ¥†Ôºâ |
| `TextField` / `OutlinedTextField` | ËæìÂÖ•Ê°Ü |
| `Card` | Âç°ÁâáÊ†∑ÂºèÂÆπÂô® |
| `Dialog` | ÂØπËØùÊ°Ü |
| `Snackbar` | Áü≠ÊöÇÊ∂àÊÅØÊèêÁ§∫ |
| `Checkbox` / `Switch` / `RadioButton` | ÈÄâÊã©Êéß‰ª∂ |
| `LazyColumn` / `LazyRow` | ÂèØÊªöÂä®ÁöÑÂàóË°® |



---------------------


# üöÄ Jetpack Compose ÊòØÂê¶Â≠òÂú®ÂÜÖÂ≠òÊ≥ÑÈú≤Ôºü

Âú® **Jetpack Compose** ‰∏≠Ôºå**ÁêÜËÆ∫‰∏ä‰∏ç‰ºöÂÉè‰º†Áªü View ÈÇ£Ê†∑ÂÆπÊòìÂèëÁîüÂÜÖÂ≠òÊ≥ÑÈú≤**Ôºå‰ΩÜÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºå**‰ªçÁÑ∂ÂèØËÉΩÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÈú≤**Ôºå‰∏ªË¶ÅÊù•Ê∫êÂåÖÊã¨Ôºö

---

## **üö® ÂèØËÉΩÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÈú≤ÁöÑÊÉÖÂÜµ**

### **1. ËÆ∞‰Ωè‰∫Ü `Activity` Êàñ `Fragment` ÁöÑÂºïÁî®**
Âú® `remember`„ÄÅ`rememberSaveable` Êàñ `LaunchedEffect` ÈáåÔºåÂ¶ÇÊûú‰Ω†**ÈîôËØØÂú∞Â≠òÂÇ®‰∫Ü `Activity`/`Context` ÁöÑÂºïÁî®**ÔºåÂèØËÉΩ‰ºöÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÈú≤„ÄÇ

**‚ùå ÈîôËØØÁ§∫‰æãÔºà‰ºöÂØºËá¥ Activity Ê≥ÑÈú≤ÔºâÔºö**
```kotlin
val activity = LocalContext.current as Activity
val myObject = remember { SomeObject(activity) }  // ‚ùå ÊåÅÊúâ Activity ÂºïÁî®
```

**‚úÖ Ëß£ÂÜ≥ÊñπÊ°àÔºö‰ΩøÁî® `WeakReference` ÊàñÈÅøÂÖçÂ≠òÂÇ® Context**
```kotlin
val context = LocalContext.current.applicationContext // ‚úÖ Âè™Â≠ò ApplicationContext
val myObject = remember { SomeObject(context) }
```

---

### **2. `LaunchedEffect`„ÄÅ`DisposableEffect` Ê≤°ÊúâÊ≠£Á°ÆÈáäÊîæËµÑÊ∫ê**
`LaunchedEffect` Êàñ `DisposableEffect` Âú® `Composition` ÂèëÁîüÂèòÂåñÊó∂ÂèØËÉΩ‰ºö‰øùÁïô‰∏çÂøÖË¶ÅÁöÑÂØπË±°ÔºåÂØºËá¥ËµÑÊ∫êÊó†Ê≥ïÈáäÊîæ„ÄÇ

**‚ùå ÈîôËØØÁ§∫‰æãÔºàÁõëÂê¨ ViewModelÔºå‰ΩÜÊ≤°ÊúâÊ≠£Á°ÆÂèñÊ∂àÔºâÔºö**
```kotlin
LaunchedEffect(Unit) {
    viewModel.dataFlow.collect { data ->
        // Â§ÑÁêÜÊï∞ÊçÆ
    }
} // ‚ùå Â¶ÇÊûú ViewModel ÁîüÂëΩÂë®ÊúüÊØî Composable Áü≠ÔºåÂèØËÉΩÂØºËá¥Ê≥ÑÈú≤
```

**‚úÖ Ëß£ÂÜ≥ÊñπÊ°àÔºö‰ΩøÁî® `collectAsState`**
```kotlin
val data by viewModel.dataFlow.collectAsState()
```

---

### **3. `rememberCoroutineScope()` Âú® `Composition` Â§ñÈÉ®‰ΩøÁî®**
**‚ùå ÈîôËØØÁ§∫‰æãÔºà‰ΩøÁî® `rememberCoroutineScope()` ‰ΩÜÊ≤°ÊúâÊâãÂä®ÂèñÊ∂àÔºâÔºö**
```kotlin
val coroutineScope = rememberCoroutineScope()
coroutineScope.launch {
    // ÊâßË°åÈïøÊó∂Èó¥‰ªªÂä°
}
```

**‚úÖ Ëß£ÂÜ≥ÊñπÊ°àÔºö‰ΩøÁî® `LaunchedEffect` Êàñ `rememberUpdatedState`**
```kotlin
LaunchedEffect(Unit) {
    // Âú® Composable ÁîüÂëΩÂë®ÊúüÂÜÖÁÆ°ÁêÜÂçèÁ®ã
}
```

---

### **4. `CompositionLocal` ‰∏çÂΩì‰ΩøÁî®**
Â¶ÇÊûú `CompositionLocal` Â≠òÂÇ®‰∫Ü‰∏Ä‰∏™ÁîüÂëΩÂë®ÊúüËæÉÈïøÁöÑÂØπË±°ÔºàÊØîÂ¶Ç `Context`ÔºâÔºåÂπ∂‰∏îËØ•ÂØπË±°Ë¢´ `Composable` ÈïøÊó∂Èó¥ÊåÅÊúâÔºåÂèØËÉΩ‰ºöÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÈú≤„ÄÇ

**‚úÖ ÈÅøÂÖçÁõ¥Êé•Â≠ò `Activity`ÔºåÁî® `ApplicationContext`**
```kotlin
val context = LocalContext.current.applicationContext
```

---

## **üìå ÁªìËÆ∫**
**Jetpack Compose Áõ∏ÊØî‰º†Áªü ViewÔºåÊõ¥‰∏çÂÆπÊòìÂèëÁîüÂÜÖÂ≠òÊ≥ÑÈú≤**Ôºå‰ΩÜ‰ªçÈúÄË¶ÅÊ≥®ÊÑè‰ª•‰∏ãÂá†ÁÇπÔºö
- **‰∏çË¶ÅÂú® `remember` ÈáåÂ≠ò `Activity`ÔºåÊîπÁî® `ApplicationContext`**
- **Ê≠£Á°Æ‰ΩøÁî® `LaunchedEffect`ÔºåÈÅøÂÖçÈïøÊó∂Èó¥ÊåÅÊúâ `ViewModel`**
- **ÂêàÁêÜÁÆ°ÁêÜÂçèÁ®ãÔºåÁ°Æ‰øù `CoroutineScope` Âú® `Composition` ÁªìÊùüÊó∂Ë¢´ÈáäÊîæ**
- **`DisposableEffect` Áî®‰∫éÈáäÊîæËµÑÊ∫ê**

**Â¶ÇÊûúÊ≠£Á°Æ‰ΩøÁî® `remember`„ÄÅ`LaunchedEffect`„ÄÅ`ViewModel`ÔºåÂü∫Êú¨‰∏ç‰ºöÂèëÁîüÊ≥ÑÈú≤ÔºÅüöÄ**


------------

var expanded by remember { mutableStateOf(false) }

Modifier
    .clickable {
        expanded = !expanded
    } // Ëøô‰∏™Â∞±ÊòØÁÆÄÂçïÁöÑ‰ΩøÁî®‰∫ÜÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂÖ∂‰ªñÁöÑÂèÇÊï∞ÈÉΩÊòØÈªòËÆ§ÁöÑ

fun Modifier.clickable(
    interactionSource: MutableInteractionSource?,
    indication: Indication?,
    enabled: Boolean = true,
    onClickLabel: String? = null,
    role: Role? = null,
    onClick: () -> Unit
) = clickableWithIndicationIfNeeded(
    interactionSource = interactionSource,
    indication = indication
) { intSource, indicationNodeFactory ->
    ClickableElement(
        interactionSource = intSource,
        indicationNodeFactory = indicationNodeFactory,
        enabled = enabled,
        onClickLabel = onClickLabel,
        role = role,
        onClick = onClick
    )
}

// Âè¶‰∏ÄÁßçÂÜôÊ≥ï
Modifier
    .clickable(
        onClick = { expanded = !expanded },
        interactionSource = interactionSource,  // ËÆæÁΩÆ interactionSource
        indication = null // Á¶ÅÁî®Ê∞¥Ê≥¢Á∫πÊïàÊûú
    )















































































































































































































































































































































































































































































































