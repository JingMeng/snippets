


https://developer.android.com/develop/ui/compose/components?hl=zh-cn

components ç»„ä»¶

    Material components in Compose
    Jetpack Compose offers an implementation of Material Design, a comprehensive design system for creating digital interfaces. You can use composable functions to implement Material components.

    Compose ä¸­çš„ Material ç»„ä»¶
    Jetpack Compose æä¾›äº† Material Design çš„å®ç°ï¼Œåè€…æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºæ•°å­—ç•Œé¢çš„ç»¼åˆè®¾è®¡ç³»ç»Ÿã€‚æ‚¨å¯ä»¥ä½¿ç”¨å¯ç»„åˆå‡½æ•°æ¥å®ç° Material ç»„ä»¶ã€‚


-------------
ç¬¬ä¸€ä¸ªæ¦‚å¿µï¼šè¿™äº›ä¸œè¥¿æ˜¯åŠ å¿«å¼€å‘çš„ï¼ŒåŸºæœ¬çš„ row å’Œ Column ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯ æˆ‘ä»¬æ— æ³•åšå‡ºå¤æ‚çš„äº¤äº’ï¼Œæ¯”å¦‚dialog
ç¬¬äºŒä¸ªæ¦‚å¿µï¼šè¿™äº›ä¸œè¥¿ä¹Ÿæ˜¯ä¸€ä¸ªè§„èŒƒ
           è¿™ä¸ªè§„èŒƒä»æ•™ç¨‹(tutorial)çš„ ç¬¬ä¸‰æ¡å°±å¯ä»¥çœ‹å¾—å‡ºæ¥ https://developer.android.com/develop/ui/compose/tutorial?hl=zh-cn



Material Design æ˜¯å›´ç»• Colorã€Typographyã€Shape è¿™ä¸‰å¤§è¦ç´ æ„å»ºçš„ã€‚æ‚¨å°†é€ä¸€æ·»åŠ è¿™äº›è¦ç´ ã€‚

Colorï¼ˆé¢œè‰²ï¼‰
Typographyï¼ˆæ’ç‰ˆï¼‰
Shapeï¼ˆå½¢çŠ¶ï¼‰





-------------


åœ¨ Compose ä¸­ï¼Œä»¥ä¸‹ Composable å¯ä»¥ä½œä¸º å®¹å™¨ æ¥åŒ…å«å…¶ä»– Composableï¼š

Columnï¼ˆç±»ä¼¼äº LinearLayout çºµå‘æ’åˆ—ï¼‰
Rowï¼ˆç±»ä¼¼äº LinearLayout æ¨ªå‘æ’åˆ—ï¼‰
Boxï¼ˆç±»ä¼¼äº FrameLayoutï¼‰
ConstraintLayoutï¼ˆç±»ä¼¼äº ConstraintLayoutï¼‰
LazyColumnï¼ˆç±»ä¼¼äº RecyclerViewï¼‰

-------------------

ç›®å‰  Button è¢«è®¾ç½®æˆä¸ºå®¹å™¨äº†
@Composable
fun MyColumnLayout() {
    Column(modifier = Modifier.fillMaxSize().padding(16.dp)) {
        Text("ç¬¬ä¸€è¡Œ")
        Text("ç¬¬äºŒè¡Œ")
        Button(onClick = {}) {
            Text("æŒ‰é’®")
        }
    }
}

Button ä½œä¸ºä¸€ä¸ªå®¹å™¨ï¼Œé‚£å°±æ„å‘³ç€ä»–é»˜è®¤æ²¡æœ‰è®¾ç½®æ–‡æœ¬çš„å±æ€§äº†

@Composable
fun Button(
    onClick: () -> Unit,
    modifier: Modifier = Modifier,
    enabled: Boolean = true,
    shape: Shape = ButtonDefaults.shape,
    colors: ButtonColors = ButtonDefaults.buttonColors(),
    elevation: ButtonElevation? = ButtonDefaults.buttonElevation(),
    border: BorderStroke? = null,
    contentPadding: PaddingValues = ButtonDefaults.ContentPadding,
    interactionSource: MutableInteractionSource? = null,
    content: @Composable RowScope.() -> Unit
)

----------


# ğŸš€ Jetpack Compose å¸¸ç”¨ç»„ä»¶ä»‹ç»

| ç»„ä»¶ | ä½œç”¨ |
| --- | --- |
| `Scaffold` | é¡µé¢åŸºç¡€æ¡†æ¶ï¼Œæ”¯æŒ `TopAppBar`ã€`BottomBar`ã€`Drawer` ç­‰ |
| `TopAppBar` / `CenterAlignedTopAppBar` | é¡¶éƒ¨æ ï¼ˆå¯æ·»åŠ å¯¼èˆªæŒ‰é’®ã€èœå•ç­‰ï¼‰ |
| `NavigationBar` | åº•éƒ¨å¯¼èˆªæ ï¼ˆé€šå¸¸ç”¨äº `BottomNavigation`ï¼‰ |
| `DrawerSheet` | ä¾§è¾¹æŠ½å±‰èœå• |
| `Button` / `OutlinedButton` / `TextButton` | æŒ‰é’®ï¼ˆä¸»è¦äº¤äº’å…ƒç´ ï¼‰ |
| `TextField` / `OutlinedTextField` | è¾“å…¥æ¡† |
| `Card` | å¡ç‰‡æ ·å¼å®¹å™¨ |
| `Dialog` | å¯¹è¯æ¡† |
| `Snackbar` | çŸ­æš‚æ¶ˆæ¯æç¤º |
| `Checkbox` / `Switch` / `RadioButton` | é€‰æ‹©æ§ä»¶ |
| `LazyColumn` / `LazyRow` | å¯æ»šåŠ¨çš„åˆ—è¡¨ |



---------------------


# ğŸš€ Jetpack Compose æ˜¯å¦å­˜åœ¨å†…å­˜æ³„éœ²ï¼Ÿ

åœ¨ **Jetpack Compose** ä¸­ï¼Œ**ç†è®ºä¸Šä¸ä¼šåƒä¼ ç»Ÿ View é‚£æ ·å®¹æ˜“å‘ç”Ÿå†…å­˜æ³„éœ²**ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œ**ä»ç„¶å¯èƒ½å¯¼è‡´å†…å­˜æ³„éœ²**ï¼Œä¸»è¦æ¥æºåŒ…æ‹¬ï¼š

---

## **ğŸš¨ å¯èƒ½å¯¼è‡´å†…å­˜æ³„éœ²çš„æƒ…å†µ**

### **1. è®°ä½äº† `Activity` æˆ– `Fragment` çš„å¼•ç”¨**
åœ¨ `remember`ã€`rememberSaveable` æˆ– `LaunchedEffect` é‡Œï¼Œå¦‚æœä½ **é”™è¯¯åœ°å­˜å‚¨äº† `Activity`/`Context` çš„å¼•ç”¨**ï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ã€‚

**âŒ é”™è¯¯ç¤ºä¾‹ï¼ˆä¼šå¯¼è‡´ Activity æ³„éœ²ï¼‰ï¼š**
```kotlin
val activity = LocalContext.current as Activity
val myObject = remember { SomeObject(activity) }  // âŒ æŒæœ‰ Activity å¼•ç”¨
```

**âœ… è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ `WeakReference` æˆ–é¿å…å­˜å‚¨ Context**
```kotlin
val context = LocalContext.current.applicationContext // âœ… åªå­˜ ApplicationContext
val myObject = remember { SomeObject(context) }
```

---

### **2. `LaunchedEffect`ã€`DisposableEffect` æ²¡æœ‰æ­£ç¡®é‡Šæ”¾èµ„æº**
`LaunchedEffect` æˆ– `DisposableEffect` åœ¨ `Composition` å‘ç”Ÿå˜åŒ–æ—¶å¯èƒ½ä¼šä¿ç•™ä¸å¿…è¦çš„å¯¹è±¡ï¼Œå¯¼è‡´èµ„æºæ— æ³•é‡Šæ”¾ã€‚

**âŒ é”™è¯¯ç¤ºä¾‹ï¼ˆç›‘å¬ ViewModelï¼Œä½†æ²¡æœ‰æ­£ç¡®å–æ¶ˆï¼‰ï¼š**
```kotlin
LaunchedEffect(Unit) {
    viewModel.dataFlow.collect { data ->
        // å¤„ç†æ•°æ®
    }
} // âŒ å¦‚æœ ViewModel ç”Ÿå‘½å‘¨æœŸæ¯” Composable çŸ­ï¼Œå¯èƒ½å¯¼è‡´æ³„éœ²
```

**âœ… è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ `collectAsState`**
```kotlin
val data by viewModel.dataFlow.collectAsState()
```

---

### **3. `rememberCoroutineScope()` åœ¨ `Composition` å¤–éƒ¨ä½¿ç”¨**
**âŒ é”™è¯¯ç¤ºä¾‹ï¼ˆä½¿ç”¨ `rememberCoroutineScope()` ä½†æ²¡æœ‰æ‰‹åŠ¨å–æ¶ˆï¼‰ï¼š**
```kotlin
val coroutineScope = rememberCoroutineScope()
coroutineScope.launch {
    // æ‰§è¡Œé•¿æ—¶é—´ä»»åŠ¡
}
```

**âœ… è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ `LaunchedEffect` æˆ– `rememberUpdatedState`**
```kotlin
LaunchedEffect(Unit) {
    // åœ¨ Composable ç”Ÿå‘½å‘¨æœŸå†…ç®¡ç†åç¨‹
}
```

---

### **4. `CompositionLocal` ä¸å½“ä½¿ç”¨**
å¦‚æœ `CompositionLocal` å­˜å‚¨äº†ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸè¾ƒé•¿çš„å¯¹è±¡ï¼ˆæ¯”å¦‚ `Context`ï¼‰ï¼Œå¹¶ä¸”è¯¥å¯¹è±¡è¢« `Composable` é•¿æ—¶é—´æŒæœ‰ï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ã€‚

**âœ… é¿å…ç›´æ¥å­˜ `Activity`ï¼Œç”¨ `ApplicationContext`**
```kotlin
val context = LocalContext.current.applicationContext
```

---

## **ğŸ“Œ ç»“è®º**
**Jetpack Compose ç›¸æ¯”ä¼ ç»Ÿ Viewï¼Œæ›´ä¸å®¹æ˜“å‘ç”Ÿå†…å­˜æ³„éœ²**ï¼Œä½†ä»éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š
- **ä¸è¦åœ¨ `remember` é‡Œå­˜ `Activity`ï¼Œæ”¹ç”¨ `ApplicationContext`**
- **æ­£ç¡®ä½¿ç”¨ `LaunchedEffect`ï¼Œé¿å…é•¿æ—¶é—´æŒæœ‰ `ViewModel`**
- **åˆç†ç®¡ç†åç¨‹ï¼Œç¡®ä¿ `CoroutineScope` åœ¨ `Composition` ç»“æŸæ—¶è¢«é‡Šæ”¾**
- **`DisposableEffect` ç”¨äºé‡Šæ”¾èµ„æº**

**å¦‚æœæ­£ç¡®ä½¿ç”¨ `remember`ã€`LaunchedEffect`ã€`ViewModel`ï¼ŒåŸºæœ¬ä¸ä¼šå‘ç”Ÿæ³„éœ²ï¼ğŸš€**


















































































































































































































































































































































































































































































































